(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"/+yk":function(e,a,t){"use strict";var n=t("q1tI"),s=t.n(n),c=t("Bl7J"),b=t("vrFN"),o=t("p6Wu"),p=(t("pJf4"),t("I/2l")),i=t.n(p),m=t("vOnD"),r=t("VBu3");function j(){var e=function(e,a){a||(a=e.slice(0));return e.raw=a,e}(["\n    width: 32px;\n    height: 32px;\n  "]);return j=function(){return e},e}var O={mattperry:{img:i.a,name:"Matt Perry"}},l=m.d.div.withConfig({displayName:"Author__Container",componentId:"sc-1jp4vsk-0"})(["display:flex !important;align-items:center;font-size:16px;margin-bottom:20px;"]),N=m.d.img.withConfig({displayName:"Author__Avatar",componentId:"sc-1jp4vsk-1"})(["width:40px;height:40px;border-radius:50%;margin-right:10px;",""],r.a.phone(j())),u=m.d.span.withConfig({displayName:"Author__Name",componentId:"sc-1jp4vsk-2"})(["font-weight:600;"]),g=m.d.span.withConfig({displayName:"Author__Seperator",componentId:"sc-1jp4vsk-3"})(["margin:0 10px;"]),d=function(e){var a=e.id,t=void 0===a?"mattperry":a,n=e.date;return O[t]?s.a.createElement(l,null,s.a.createElement(N,{src:O[t].img,alt:""}),s.a.createElement(u,null,O[t].name),s.a.createElement(g,null,"|"),n):null};a.a=function(e){var a=e.children,t=e.pageContext,n=t.date,p=t.frontmatter,i=p.title,m=p.description,r=p.author;return s.a.createElement(c.a,null,s.a.createElement(b.a,{title:i,description:m,keywords:["matt perry","popmotion","react","pose","popmotion pose","framer","framer motion","ui animation"]}),s.a.createElement("article",null,s.a.createElement(o.b,null,i),s.a.createElement(o.a,null,s.a.createElement(d,{id:r,date:n})),s.a.createElement(o.a,null,a)))}},jjQe:function(e,a,t){"use strict";t.r(a),t.d(a,"_frontmatter",(function(){return c})),t.d(a,"default",(function(){return p}));t("rzGZ"),t("Dq+y"),t("8npG"),t("Ggvi"),t("E5k/"),t("q1tI");var n=t("7ljp"),s=t("/+yk");var c={},b={_frontmatter:c},o=s.a;function p(e){var a=e.components,t=function(e,a){if(null==e)return{};var t,n,s={},c=Object.keys(e);for(n=0;n<c.length;n++)t=c[n],a.indexOf(t)>=0||(s[t]=e[t]);return s}(e,["components"]);return Object(n.b)(o,Object.assign({},b,t,{components:a,mdxType:"MDXLayout"}),Object(n.b)("p",null,"React has a great new Hook that replaces ",Object(n.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"componentDidMount"),", ",Object(n.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"componentDidUpdate")," and ",Object(n.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"componentWillUnmount")," with one simple, functionally-encapsulated API."),Object(n.b)("p",null,"It’s called ",Object(n.b)("a",Object.assign({parentName:"p"},{href:"https://reactjs.org/docs/hooks-effect.html"}),Object(n.b)("code",Object.assign({parentName:"a"},{className:"language-text"}),"useEffect")),", and it looks like this:"),Object(n.b)("div",{className:"gatsby-highlight","data-language":"jsx"},Object(n.b)("pre",Object.assign({parentName:"div"},{className:"language-jsx"}),Object(n.b)("code",Object.assign({parentName:"pre"},{className:"language-jsx"}),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"const")," ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token function-variable function"}),"Component")," ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"=")," ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")")," ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"=>")," ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"{"),"\n  ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token function"}),"useEffect"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")")," ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"=>")," ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"{"),"\n    console",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"."),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token function"}),"log"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token string"}),'"Rendered!"'),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";"),"\n  ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"}"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";"),"\n\n  ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"return")," ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token tag"}),Object(n.b)("span",Object.assign({parentName:"span"},{className:"token tag"}),Object(n.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),"<"),"div")," ",Object(n.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),"/>")),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";"),"\n",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"}"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";")))),Object(n.b)("p",null,"Its default behaviour is to run after every render, but we can change this behaviour by passing an array of variables as ",Object(n.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"useEffect"),"’s final argument. Whenever ",Object(n.b)("strong",{parentName:"p"},"one or more of these variables change"),", ",Object(n.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"useEffect")," will fire after the next render:"),Object(n.b)("div",{className:"gatsby-highlight","data-language":"jsx"},Object(n.b)("pre",Object.assign({parentName:"div"},{className:"language-jsx"}),Object(n.b)("code",Object.assign({parentName:"pre"},{className:"language-jsx"}),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token function"}),"useEffect"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")")," ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"=>")," ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"{"),"\n  console",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"."),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token function"}),"log"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token template-string"}),Object(n.b)("span",Object.assign({parentName:"span"},{className:"token template-punctuation string"}),"`"),Object(n.b)("span",Object.assign({parentName:"span"},{className:"token string"}),"The latest count is "),Object(n.b)("span",Object.assign({parentName:"span"},{className:"token interpolation"}),Object(n.b)("span",Object.assign({parentName:"span"},{className:"token interpolation-punctuation punctuation"}),"${"),"count",Object(n.b)("span",Object.assign({parentName:"span"},{className:"token interpolation-punctuation punctuation"}),"}")),Object(n.b)("span",Object.assign({parentName:"span"},{className:"token template-punctuation string"}),"`")),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";"),"\n",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"}"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),",")," ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"["),"count",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"]"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";")))),Object(n.b)("p",null,"So consider this API from Popmotion’s ",Object(n.b)("a",Object.assign({parentName:"p"},{href:"https://popmotion.io/pose/"}),"Pose"),":"),Object(n.b)("div",{className:"gatsby-highlight","data-language":"jsx"},Object(n.b)("pre",Object.assign({parentName:"div"},{className:"language-jsx"}),Object(n.b)("code",Object.assign({parentName:"pre"},{className:"language-jsx"}),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token tag"}),Object(n.b)("span",Object.assign({parentName:"span"},{className:"token tag"}),Object(n.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),"<"),Object(n.b)("span",Object.assign({parentName:"span"},{className:"token class-name"}),"Sidebar"))," ",Object(n.b)("span",Object.assign({parentName:"span"},{className:"token attr-name"}),"pose"),Object(n.b)("span",Object.assign({parentName:"span"},{className:"token script language-javascript"}),Object(n.b)("span",Object.assign({parentName:"span"},{className:"token script-punctuation punctuation"}),"="),Object(n.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),"{"),Object(n.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),"["),Object(n.b)("span",Object.assign({parentName:"span"},{className:"token string"}),"'visible'"),Object(n.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),",")," ",Object(n.b)("span",Object.assign({parentName:"span"},{className:"token string"}),"'active'"),Object(n.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),"]"),Object(n.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),"}")),Object(n.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),">"))))),Object(n.b)("p",null,"Here, we’ve got a ",Object(n.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"pose")," property that accepts an array of one or more “poses” to control its animations."),Object(n.b)("p",null,"Previously, we’d have used a check in ",Object(n.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"componentDidUpdate")," to manually iterate over the previous and the next arrays to see if they’re different to each other:"),Object(n.b)("div",{className:"gatsby-highlight","data-language":"javascript"},Object(n.b)("pre",Object.assign({parentName:"div"},{className:"language-javascript"}),Object(n.b)("code",Object.assign({parentName:"pre"},{className:"language-javascript"}),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token function"}),"componentDidUpdate"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token parameter"}),"prevProps"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")")," ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"{"),"\n  ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"const")," hasChanged ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"=")," ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"!"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token function"}),"isArrayEqual"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),"prevProps",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"."),"pose",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),",")," ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"this"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"."),"props",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"."),"pose",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")"),"\n  ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"if")," ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),"hasChanged",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")")," ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"{"),"\n    ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token function"}),"animate"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"this"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"."),"props",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"."),"pose",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")"),"\n  ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"}"),"\n",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"}")))),Object(n.b)("p",null,"But now, with ",Object(n.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"useEffect"),"’s final argument, it’s a simple matter of passing the ",Object(n.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"pose")," array to ",Object(n.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"useEffect"),", and we’ll get this comparison for free!"),Object(n.b)("div",{className:"gatsby-highlight","data-language":"jsx"},Object(n.b)("pre",Object.assign({parentName:"div"},{className:"language-jsx"}),Object(n.b)("code",Object.assign({parentName:"pre"},{className:"language-jsx"}),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token function"}),"useEffect"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")")," ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"=>")," ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"{"),"\n  ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token function"}),"animate"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),"pose",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";"),"\n",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"}"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),",")," pose",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";")))),Object(n.b)("p",null,"Hell yeah! Except hell no. If the length of ",Object(n.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"pose")," changes, React will throw you this error:"),Object(n.b)("blockquote",null,Object(n.b)("p",{parentName:"blockquote"},"The final argument passed to useEffect changed size between renders. The order and size of this array must remain constant.")),Object(n.b)("p",null,"The problem is that we can’t always know if an externally-created array is going to change in length."),Object(n.b)("p",null,"If can’t know it, we shouldn’t assume it."),Object(n.b)("p",null,"Especially as the insidious truth is, the array may only ",Object(n.b)("strong",{parentName:"p"},"rarely")," change in length, which means this error might not throw until its out in the wild."),Object(n.b)("h2",{id:"the-fix",style:{position:"relative"}},Object(n.b)("a",Object.assign({parentName:"h2"},{href:"#the-fix","aria-label":"the fix permalink",className:"anchor before"}),Object(n.b)("svg",Object.assign({parentName:"a"},{"aria-hidden":"true",focusable:"false",height:"16",version:"1.1",viewBox:"0 0 16 16",width:"16"}),Object(n.b)("path",Object.assign({parentName:"svg"},{fillRule:"evenodd",d:"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"})))),"The fix"),Object(n.b)("p",null,"If our array is just numbers or strings, this is an easy fix. You can use the ",Object(n.b)("a",Object.assign({parentName:"p"},{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/join"}),Object(n.b)("code",Object.assign({parentName:"a"},{className:"language-text"}),"Array.join()")," method"),":"),Object(n.b)("div",{className:"gatsby-highlight","data-language":"jsx"},Object(n.b)("pre",Object.assign({parentName:"div"},{className:"language-jsx"}),Object(n.b)("code",Object.assign({parentName:"pre"},{className:"language-jsx"}),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token function"}),"useEffect"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")")," ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"=>")," ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"{"),"\n  ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token function"}),"animate"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),"pose",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";"),"\n",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"}"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),",")," ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"["),"pose",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"."),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token function"}),"join"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token string"}),'","'),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"]"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";")))),Object(n.b)("p",null,"So instead of passing an array like this:"),Object(n.b)("div",{className:"gatsby-highlight","data-language":"javascript"},Object(n.b)("pre",Object.assign({parentName:"div"},{className:"language-javascript"}),Object(n.b)("code",Object.assign({parentName:"pre"},{className:"language-javascript"}),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"["),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token string"}),'"visible"'),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),",")," ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token string"}),'"hidden"'),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"]"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";")))),Object(n.b)("p",null,"You’re now passing an array like this:"),Object(n.b)("div",{className:"gatsby-highlight","data-language":"javascript"},Object(n.b)("pre",Object.assign({parentName:"div"},{className:"language-javascript"}),Object(n.b)("code",Object.assign({parentName:"pre"},{className:"language-javascript"}),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"["),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token string"}),'"visible,hidden"'),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"]"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";")))),Object(n.b)("p",null,"Your array prop will now always take up just one item in the ",Object(n.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"useEffect")," comparitor array."),Object(n.b)("h2",{id:"whats-with-the-comma",style:{position:"relative"}},Object(n.b)("a",Object.assign({parentName:"h2"},{href:"#whats-with-the-comma","aria-label":"whats with the comma permalink",className:"anchor before"}),Object(n.b)("svg",Object.assign({parentName:"a"},{"aria-hidden":"true",focusable:"false",height:"16",version:"1.1",viewBox:"0 0 16 16",width:"16"}),Object(n.b)("path",Object.assign({parentName:"svg"},{fillRule:"evenodd",d:"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"})))),"What’s with the comma?"),Object(n.b)("p",null,"Oh yeah. So the comma might seem superfluous. After all, it’s unlikely that different pose names are going to return the same string when you ",Object(n.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"join")," them."),Object(n.b)("p",null,"But crucially, it isn’t impossible. And if the array contains numbers instead of strings, this scenario becomes far more likely:"),Object(n.b)("div",{className:"gatsby-highlight","data-language":"javascript"},Object(n.b)("pre",Object.assign({parentName:"div"},{className:"language-javascript"}),Object(n.b)("code",Object.assign({parentName:"pre"},{className:"language-javascript"}),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"["),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token number"}),"0"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),",")," ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token number"}),"1"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),",")," ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token number"}),"2"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"]")," ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"-"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),">")," ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"["),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token string"}),"'012'"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"]"),"\n",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"["),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token number"}),"0"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),",")," ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token number"}),"12"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"]")," ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"-"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),">")," ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"["),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token string"}),"'012'"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"]")))),Object(n.b)("p",null,"By providing ",Object(n.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"join")," with a separator (it could be any character), you’re ensuring the returned string remains unique for all combinations."),Object(n.b)("div",{className:"gatsby-highlight","data-language":"javascript"},Object(n.b)("pre",Object.assign({parentName:"div"},{className:"language-javascript"}),Object(n.b)("code",Object.assign({parentName:"pre"},{className:"language-javascript"}),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"["),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token number"}),"0"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),",")," ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token number"}),"1"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),",")," ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token number"}),"2"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"]")," ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"-"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),">")," ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"["),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token string"}),"'0,1,2'"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"]"),"\n",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"["),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token number"}),"0"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),",")," ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token number"}),"12"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"]")," ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"-"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),">")," ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"["),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token string"}),"'0,12'"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"]")))),Object(n.b)("h2",{id:"bloopers",style:{position:"relative"}},Object(n.b)("a",Object.assign({parentName:"h2"},{href:"#bloopers","aria-label":"bloopers permalink",className:"anchor before"}),Object(n.b)("svg",Object.assign({parentName:"a"},{"aria-hidden":"true",focusable:"false",height:"16",version:"1.1",viewBox:"0 0 16 16",width:"16"}),Object(n.b)("path",Object.assign({parentName:"svg"},{fillRule:"evenodd",d:"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"})))),"Bloopers"),Object(n.b)("p",null,"Whenever I post a blog like this with a solution I want to show you any “developer moments” aka “what the fuck was I thinking” moments that I enjoyed along the way."),Object(n.b)("p",null,"In this case my initial attempt at fixing the bug was to pad the incoming array by an arbitrary amount. I felt like 10 would be more than enough poses for any one component:"),Object(n.b)("div",{className:"gatsby-highlight","data-language":"javascript"},Object(n.b)("pre",Object.assign({parentName:"div"},{className:"language-javascript"}),Object(n.b)("code",Object.assign({parentName:"pre"},{className:"language-javascript"}),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token function"}),"useEffect"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")")," ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"=>")," ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"{"),"\n  ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token function"}),"animate"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),"pose",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";"),"\n",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"}"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),",")," ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token function"}),"pad"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),"pose",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),",")," ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token number"}),"10"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";")))),Object(n.b)("p",null,"So our ",Object(n.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"pose")," array from before would become:"),Object(n.b)("div",{className:"gatsby-highlight","data-language":"javascript"},Object(n.b)("pre",Object.assign({parentName:"div"},{className:"language-javascript"}),Object(n.b)("code",Object.assign({parentName:"pre"},{className:"language-javascript"}),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"["),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token string"}),'"visible"'),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),",")," ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token string"}),'"hidden"'),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),",")," ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"null"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),",")," ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"null"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),",")," ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"null"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),",")," ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"null"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),",")," ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"null"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),",")," ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"null"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),",")," ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"null"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),",")," ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"null"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"]"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";")))),Object(n.b)("p",null,"And the comparitor array given to React would remain the same length, no matter how ",Object(n.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"pose")," grew or shrank."),Object(n.b)("p",null,"It worked, but despite ",Object(n.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"10")," being quite a generous pose amount, it’s hardly bullet-proof. It also creates a new array which is more memory-intensive than a string. It’s not a big deal but when we’re dealing with animations its better to keep garbage collection down where you can."))}p.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-20190207-how-to-fix-final-argument-passed-to-useeffect-changed-size-between-renders-mdx-32ade6316591fd301d17.js.map