(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{"/+yk":function(e,a,t){"use strict";var n=t("q1tI"),s=t.n(n),c=t("Bl7J"),b=t("vrFN"),o=t("p6Wu"),p=(t("pJf4"),t("I/2l")),i=t.n(p),r=t("vOnD"),m=t("VBu3");function l(){var e=function(e,a){a||(a=e.slice(0));return e.raw=a,e}(["\n    width: 32px;\n    height: 32px;\n  "]);return l=function(){return e},e}var j={mattperry:{img:i.a,name:"Matt Perry"}},O=r.d.div.withConfig({displayName:"Author__Container",componentId:"sc-1jp4vsk-0"})(["display:flex !important;align-items:center;font-size:16px;margin-bottom:20px;"]),g=r.d.img.withConfig({displayName:"Author__Avatar",componentId:"sc-1jp4vsk-1"})(["width:40px;height:40px;border-radius:50%;margin-right:10px;",""],m.a.phone(l())),N=r.d.span.withConfig({displayName:"Author__Name",componentId:"sc-1jp4vsk-2"})(["font-weight:600;"]),u=r.d.span.withConfig({displayName:"Author__Seperator",componentId:"sc-1jp4vsk-3"})(["margin:0 10px;"]),d=function(e){var a=e.id,t=void 0===a?"mattperry":a,n=e.date;return j[t]?s.a.createElement(O,null,s.a.createElement(g,{src:j[t].img,alt:""}),s.a.createElement(N,null,j[t].name),s.a.createElement(u,null,"|"),n):null};a.a=function(e){var a=e.children,t=e.pageContext,n=t.date,p=t.frontmatter,i=p.title,r=p.description,m=p.author;return s.a.createElement(c.a,null,s.a.createElement(b.a,{title:i,description:r,keywords:["matt perry","popmotion","react","pose","popmotion pose","framer","framer motion","ui animation"]}),s.a.createElement("article",null,s.a.createElement(o.b,null,i),s.a.createElement(o.a,null,s.a.createElement(d,{id:m,date:n})),s.a.createElement(o.a,null,a)))}},meB5:function(e,a,t){"use strict";t.r(a),t.d(a,"_frontmatter",(function(){return c})),t.d(a,"default",(function(){return p}));t("rzGZ"),t("Dq+y"),t("8npG"),t("Ggvi"),t("E5k/"),t("q1tI");var n=t("7ljp"),s=t("/+yk");var c={},b={_frontmatter:c},o=s.a;function p(e){var a=e.components,t=function(e,a){if(null==e)return{};var t,n,s={},c=Object.keys(e);for(n=0;n<c.length;n++)t=c[n],a.indexOf(t)>=0||(s[t]=e[t]);return s}(e,["components"]);return Object(n.b)(o,Object.assign({},b,t,{components:a,mdxType:"MDXLayout"}),Object(n.b)("p",null,"“Don’t reinvent the wheel” is sage advice. In production, it’s almost always better to leverage battle-tested software over rolling your own."),Object(n.b)("p",null,"But if you want to ",Object(n.b)("strong",{parentName:"p"},"learn"),", forget it. Making your own version of existing libraries can not only help you become a better software developer, but also improve your ability to think critically about the software you do consume in production."),Object(n.b)("p",null,"In that spirit, by the end of this post we’re going to better understand the inner-workings of the bedrock of UI animation, the tween, by making one from scratch."),Object(n.b)("h2",{id:"a-what-now",style:{position:"relative"}},Object(n.b)("a",Object.assign({parentName:"h2"},{href:"#a-what-now","aria-label":"a what now permalink",className:"anchor before"}),Object(n.b)("svg",Object.assign({parentName:"a"},{"aria-hidden":"true",focusable:"false",height:"16",version:"1.1",viewBox:"0 0 16 16",width:"16"}),Object(n.b)("path",Object.assign({parentName:"svg"},{fillRule:"evenodd",d:"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"})))),"A what now?"),Object(n.b)("p",null,"A tween! Even if you haven’t heard the term before, if you’ve done UI animation it’s likely you’ve used one before."),Object(n.b)("p",null,"The name of the function can differ. ",Object(n.b)("a",Object.assign({parentName:"p"},{href:"https://greensock.com/"}),"GreenSock’s TweenMax")," calls it ",Object(n.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"to"),". ",Object(n.b)("a",Object.assign({parentName:"p"},{href:"https://animejs.com"}),"Anime")," calls it ",Object(n.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"anime"),". My own ",Object(n.b)("a",Object.assign({parentName:"p"},{href:"https://popmotion.io"}),"Popmotion")," calls it a ",Object(n.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"tween"),"."),Object(n.b)("p",null,"But the functionality isn’t exclusive to JavaScript. If you’ve ever written CSS like this:"),Object(n.b)("div",{className:"gatsby-highlight","data-language":"css"},Object(n.b)("pre",Object.assign({parentName:"div"},{className:"language-css"}),Object(n.b)("code",Object.assign({parentName:"pre"},{className:"language-css"}),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token selector"}),"div")," ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"{"),"\n  ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token property"}),"transition"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),":")," all 300ms ease-out",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";"),"\n",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"}")))),Object(n.b)("p",null,"That’s defining a tween too!"),Object(n.b)("p",null,"A tween is just an ",Object(n.b)("strong",{parentName:"p"},"animation between two values, over a duration of time"),"."),Object(n.b)("p",null,"The term originated as a abbreviation for “inbetweening”. It’s a process where a cartoon’s lead illustrators would define the ",Object(n.b)("strong",{parentName:"p"},"keyframes")," of the animation, and then pass those off to the cheaper labour. They’d fill in the missing frames with transitional illustrations. Inbetweening."),Object(n.b)("p",null,"I first encountered the word “tween” in Flash (ask your parents). Adobe’s skeuomorphic naming of tools meant that on the timeline you’d place keyframes and Flash would tween between those."),Object(n.b)("p",null,"So the term itself is actually an anachronism. In ",Object(n.b)("a",Object.assign({parentName:"p"},{href:"https://facebook.github.io/react-native/docs/animated"}),"React Native’s Animated")," they call it a ",Object(n.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"timing")," animation, which might be more immediately obvious to modern readers."),Object(n.b)("p",null,"Back in those Flash days, I used to use Greensock’s TweenMax library to write tween animations. There was something about it that seemed magical, like it was tapping into a special Flash API that I didn’t understand. It was only when I wrote Popmotion that I realised that making animations really is just a matter of changing values gradually, once per frame."),Object(n.b)("h2",{id:"what-well-make",style:{position:"relative"}},Object(n.b)("a",Object.assign({parentName:"h2"},{href:"#what-well-make","aria-label":"what well make permalink",className:"anchor before"}),Object(n.b)("svg",Object.assign({parentName:"a"},{"aria-hidden":"true",focusable:"false",height:"16",version:"1.1",viewBox:"0 0 16 16",width:"16"}),Object(n.b)("path",Object.assign({parentName:"svg"},{fillRule:"evenodd",d:"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"})))),"What we’ll make"),Object(n.b)("p",null,"By the end of this post we’ll have a ",Object(n.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"tween")," function that looks like this:"),Object(n.b)("div",{className:"gatsby-highlight","data-language":"javascript"},Object(n.b)("pre",Object.assign({parentName:"div"},{className:"language-javascript"}),Object(n.b)("code",Object.assign({parentName:"pre"},{className:"language-javascript"}),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token function"}),"tween"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"{"),"\n  ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"from"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),":")," ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token number"}),"0"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),","),"\n  to",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),":")," ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token number"}),"100"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),","),"\n  duration",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),":")," ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token number"}),"300"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),","),"\n  ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token function-variable function"}),"onUpdate"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),":")," ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token parameter"}),"v")," ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"=>")," console",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"."),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token function"}),"log"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),"v",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")"),"\n",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"}"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";")))),Object(n.b)("iframe",{height:"400",style:{width:"100%",marginBottom:"40px"},scrolling:"no",title:"Write your own tween (completed)",src:"//codepen.io/popmotion/embed/preview/LaRxLR/?height=400&theme-id=17364&default-tab=js,result",frameBorder:"no",allowtransparency:"true",allowFullScreen:"true"}),Object(n.b)("p",null,"The easiest way to follow along with the tutorial is to fork ",Object(n.b)("a",Object.assign({parentName:"p"},{href:"https://codepen.io/popmotion/pen/zbGYxp?editors=0011"}),"this CodePen"),". It’s already set up with an open console, modern JavaScript support, and a ",Object(n.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"div")," that we’ll use our completed ",Object(n.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"tween")," function to animate."),Object(n.b)("h2",{id:"the-function",style:{position:"relative"}},Object(n.b)("a",Object.assign({parentName:"h2"},{href:"#the-function","aria-label":"the function permalink",className:"anchor before"}),Object(n.b)("svg",Object.assign({parentName:"a"},{"aria-hidden":"true",focusable:"false",height:"16",version:"1.1",viewBox:"0 0 16 16",width:"16"}),Object(n.b)("path",Object.assign({parentName:"svg"},{fillRule:"evenodd",d:"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"})))),"The function"),Object(n.b)("p",null,"Let’s start by writing our function. I’m going to call mine ",Object(n.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"tween")," but you can call yours anything. If there’s a name you prefer, ",Object(n.b)("a",Object.assign({parentName:"p"},{href:"https://twitter.com/mattgperry"}),"answers on a postcard"),"."),Object(n.b)("p",null,"It’s going to take a single argument, a configuration object."),Object(n.b)("div",{className:"gatsby-highlight","data-language":"javascript"},Object(n.b)("pre",Object.assign({parentName:"div"},{className:"language-javascript"}),Object(n.b)("code",Object.assign({parentName:"pre"},{className:"language-javascript"}),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"function")," ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token function"}),"tween"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token parameter"}),"config ",Object(n.b)("span",Object.assign({parentName:"span"},{className:"token operator"}),"=")," ",Object(n.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),"{"),Object(n.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),"}")),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")")," ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"{"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"}")))),Object(n.b)("p",null,"This configuration object should be set up with some sensible defaults to make life easier for users of this function."),Object(n.b)("p",null,"In Popmotion I’ve gone with ",Object(n.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"from: 0")," and ",Object(n.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"to: 1"),", because the range ",Object(n.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"0"),"-",Object(n.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"1")," often comes in handy when writing animations and GPU shaders."),Object(n.b)("p",null,"The full extent of its use is beyond the scope of this article but, as ",Object(n.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"0")," represents “none of something” or “zero progress” and ",Object(n.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"1")," represents “all of something” or “completed progress” you can probably imagine that it’s a simple, standard way to think about ranges."),Object(n.b)("p",null,"I also chose a ",Object(n.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"duration")," of ",Object(n.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"300")," milliseconds as I think it strikes a nice balance of being snappy but not abrupt."),Object(n.b)("p",null,"To set these defaults, we can use ",Object(n.b)("a",Object.assign({parentName:"p"},{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment"}),"destructuring")," syntax."),Object(n.b)("div",{className:"gatsby-highlight","data-language":"javascript"},Object(n.b)("pre",Object.assign({parentName:"div"},{className:"language-javascript"}),Object(n.b)("code",Object.assign({parentName:"pre"},{className:"language-javascript"}),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"function")," ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token function"}),"tween"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token parameter"}),Object(n.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),"{")," ",Object(n.b)("span",Object.assign({parentName:"span"},{className:"token keyword"}),"from")," ",Object(n.b)("span",Object.assign({parentName:"span"},{className:"token operator"}),"=")," ",Object(n.b)("span",Object.assign({parentName:"span"},{className:"token number"}),"0"),Object(n.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),",")," to ",Object(n.b)("span",Object.assign({parentName:"span"},{className:"token operator"}),"=")," ",Object(n.b)("span",Object.assign({parentName:"span"},{className:"token number"}),"1"),Object(n.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),",")," duration ",Object(n.b)("span",Object.assign({parentName:"span"},{className:"token operator"}),"=")," ",Object(n.b)("span",Object.assign({parentName:"span"},{className:"token number"}),"300")," ",Object(n.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),"}")," ",Object(n.b)("span",Object.assign({parentName:"span"},{className:"token operator"}),"=")," ",Object(n.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),"{"),Object(n.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),"}")),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")")," ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"{"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"}")))),Object(n.b)("p",null,"You can verify your function is working with these defaults by adding a ",Object(n.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"console.log")," to your function, and then immediately calling it:"),Object(n.b)("div",{className:"gatsby-highlight","data-language":"javascript"},Object(n.b)("pre",Object.assign({parentName:"div"},{className:"language-javascript"}),Object(n.b)("code",Object.assign({parentName:"pre"},{className:"language-javascript"}),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"function")," ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token function"}),"tween"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token parameter"}),Object(n.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),"{")," ",Object(n.b)("span",Object.assign({parentName:"span"},{className:"token keyword"}),"from")," ",Object(n.b)("span",Object.assign({parentName:"span"},{className:"token operator"}),"=")," ",Object(n.b)("span",Object.assign({parentName:"span"},{className:"token number"}),"0"),Object(n.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),",")," to ",Object(n.b)("span",Object.assign({parentName:"span"},{className:"token operator"}),"=")," ",Object(n.b)("span",Object.assign({parentName:"span"},{className:"token number"}),"1"),Object(n.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),",")," duration ",Object(n.b)("span",Object.assign({parentName:"span"},{className:"token operator"}),"=")," ",Object(n.b)("span",Object.assign({parentName:"span"},{className:"token number"}),"300")," ",Object(n.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),"}")," ",Object(n.b)("span",Object.assign({parentName:"span"},{className:"token operator"}),"=")," ",Object(n.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),"{"),Object(n.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),"}")),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")")," ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"{"),"\n  console",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"."),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token function"}),"log"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),"duration",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";"),"\n",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"}"),"\n\n",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token function"}),"tween"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";")))),Object(n.b)("p",null,"The console panel will say ",Object(n.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"300"),". If you pass in your own ",Object(n.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"duration"),":"),Object(n.b)("div",{className:"gatsby-highlight","data-language":"javascript"},Object(n.b)("pre",Object.assign({parentName:"div"},{className:"language-javascript"}),Object(n.b)("code",Object.assign({parentName:"pre"},{className:"language-javascript"}),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token function"}),"tween"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"{")," duration",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),":")," ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token number"}),"1000")," ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"}"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";")))),Object(n.b)("p",null,"It will show that instead."),Object(n.b)("p",null,"That’s the skeleton of our function working, now we need to make it run an animation."),Object(n.b)("h2",{id:"the-animation-loop",style:{position:"relative"}},Object(n.b)("a",Object.assign({parentName:"h2"},{href:"#the-animation-loop","aria-label":"the animation loop permalink",className:"anchor before"}),Object(n.b)("svg",Object.assign({parentName:"a"},{"aria-hidden":"true",focusable:"false",height:"16",version:"1.1",viewBox:"0 0 16 16",width:"16"}),Object(n.b)("path",Object.assign({parentName:"svg"},{fillRule:"evenodd",d:"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"})))),"The animation loop"),Object(n.b)("p",null,"Remember what “tween” is short for: “inbetweening”. We have our ",Object(n.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"from")," and ",Object(n.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"to")," values, those are our keyframes. So now we need to, over the course of ",Object(n.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"duration"),", generate values that are inbetween those two."),Object(n.b)("p",null,"To do this, we’re going to use the ",Object(n.b)("a",Object.assign({parentName:"p"},{href:"https://developer.mozilla.org/en-US/docs/Web/API/window/requestAnimationFrame"}),Object(n.b)("code",Object.assign({parentName:"a"},{className:"language-text"}),"requestAnimationFrame")," function"),". This is a function that allows you to ask the browser to run some code before the next frame is rendered."),Object(n.b)("p",null,"Inside the ",Object(n.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"tween")," function, we’re going to make a new function called ",Object(n.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"update"),". We’re going to run this function once every frame."),Object(n.b)("p",null,"Inside the ",Object(n.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"tween")," function, make a new function called ",Object(n.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"update"),". In it, place a ",Object(n.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"console.log")," so we know it’s running."),Object(n.b)("div",{className:"gatsby-highlight","data-language":"javascript"},Object(n.b)("pre",Object.assign({parentName:"div"},{className:"language-javascript"}),Object(n.b)("code",Object.assign({parentName:"pre"},{className:"language-javascript"}),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"function")," ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token function"}),"tween"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token parameter"}),Object(n.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),"{")," ",Object(n.b)("span",Object.assign({parentName:"span"},{className:"token keyword"}),"from")," ",Object(n.b)("span",Object.assign({parentName:"span"},{className:"token operator"}),"=")," ",Object(n.b)("span",Object.assign({parentName:"span"},{className:"token number"}),"0"),Object(n.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),",")," to ",Object(n.b)("span",Object.assign({parentName:"span"},{className:"token operator"}),"=")," ",Object(n.b)("span",Object.assign({parentName:"span"},{className:"token number"}),"1"),Object(n.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),",")," duration ",Object(n.b)("span",Object.assign({parentName:"span"},{className:"token operator"}),"=")," ",Object(n.b)("span",Object.assign({parentName:"span"},{className:"token number"}),"300")," ",Object(n.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),"}")," ",Object(n.b)("span",Object.assign({parentName:"span"},{className:"token operator"}),"=")," ",Object(n.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),"{"),Object(n.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),"}")),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")")," ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"{"),"\n  ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"function")," ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token function"}),"update"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")")," ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"{"),"\n    console",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"."),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token function"}),"log"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token string"}),'"update!"'),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";"),"\n  ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"}"),"\n",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"}")))),Object(n.b)("p",null,"At the end of ",Object(n.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"tween"),", use ",Object(n.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"requestAnimationFrame")," to call ",Object(n.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"update"),":"),Object(n.b)("div",{className:"gatsby-highlight","data-language":"javascript"},Object(n.b)("pre",Object.assign({parentName:"div"},{className:"language-javascript"}),Object(n.b)("code",Object.assign({parentName:"pre"},{className:"language-javascript"}),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"function")," ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token function"}),"tween"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token parameter"}),Object(n.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),"{")," ",Object(n.b)("span",Object.assign({parentName:"span"},{className:"token keyword"}),"from")," ",Object(n.b)("span",Object.assign({parentName:"span"},{className:"token operator"}),"=")," ",Object(n.b)("span",Object.assign({parentName:"span"},{className:"token number"}),"0"),Object(n.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),",")," to ",Object(n.b)("span",Object.assign({parentName:"span"},{className:"token operator"}),"=")," ",Object(n.b)("span",Object.assign({parentName:"span"},{className:"token number"}),"1"),Object(n.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),",")," duration ",Object(n.b)("span",Object.assign({parentName:"span"},{className:"token operator"}),"=")," ",Object(n.b)("span",Object.assign({parentName:"span"},{className:"token number"}),"300")," ",Object(n.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),"}")," ",Object(n.b)("span",Object.assign({parentName:"span"},{className:"token operator"}),"=")," ",Object(n.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),"{"),Object(n.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),"}")),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")")," ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"{"),"\n  ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"function")," ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token function"}),"update"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")")," ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"{"),"\n    console",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"."),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token function"}),"log"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token string"}),'"update!"'),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";"),"\n  ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"}"),"\n\n  ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token function"}),"requestAnimationFrame"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),"update",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";"),"\n",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"}")))),Object(n.b)("p",null,"Now when you call ",Object(n.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"tween"),", your console will ping ",Object(n.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),'"update!"'),"."),Object(n.b)("p",null,"Most monitors render at 60 frames a second. There’s some edge-cases, for instance when iOS is in low-power mode, Safari runs at 30 frames a second. But to make animation appear smooth, you need to call ",Object(n.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"requestAnimationFrame")," once for every single frame!"),Object(n.b)("p",null,"At the end of ",Object(n.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"update"),", add the same line of code again. A ",Object(n.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"requestAnimationFrame"),", calling ",Object(n.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"update"),":"),Object(n.b)("div",{className:"gatsby-highlight","data-language":"javascript"},Object(n.b)("pre",Object.assign({parentName:"div"},{className:"language-javascript"}),Object(n.b)("code",Object.assign({parentName:"pre"},{className:"language-javascript"}),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"function")," ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token function"}),"update"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")")," ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"{"),"\n  console",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"."),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token function"}),"log"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token string"}),'"update!"'),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";"),"\n  ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token function"}),"requestAnimationFrame"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),"update",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";"),"\n",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"}")))),Object(n.b)("p",null,"This will schedule another call to ",Object(n.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"update")," for the ",Object(n.b)("strong",{parentName:"p"},"next")," frame, thereby starting a frame-synced loop."),Object(n.b)("h2",{id:"calculate-elapsed",style:{position:"relative"}},Object(n.b)("a",Object.assign({parentName:"h2"},{href:"#calculate-elapsed","aria-label":"calculate elapsed permalink",className:"anchor before"}),Object(n.b)("svg",Object.assign({parentName:"a"},{"aria-hidden":"true",focusable:"false",height:"16",version:"1.1",viewBox:"0 0 16 16",width:"16"}),Object(n.b)("path",Object.assign({parentName:"svg"},{fillRule:"evenodd",d:"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"})))),"Calculate elapsed"),Object(n.b)("p",null,"A ",Object(n.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"tween")," is a duration-based animation, so the key piece of information we need is the progress of the animation, which we derive from the amount of time that’s elapsed."),Object(n.b)("p",null,"The simplest way to do this is to record the time the animation starts, and then every frame measure how much time has elapsed since then."),Object(n.b)("p",null,"To do this, we can use the browser’s ",Object(n.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"performance.now")," function. This returns a timestamp, the number of milliseconds since the page session started."),Object(n.b)("div",{className:"gatsby-highlight","data-language":"javascript"},Object(n.b)("pre",Object.assign({parentName:"div"},{className:"language-javascript"}),Object(n.b)("code",Object.assign({parentName:"pre"},{className:"language-javascript"}),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"function")," ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token function"}),"tween"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token parameter"}),Object(n.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),"{")," ",Object(n.b)("span",Object.assign({parentName:"span"},{className:"token keyword"}),"from")," ",Object(n.b)("span",Object.assign({parentName:"span"},{className:"token operator"}),"=")," ",Object(n.b)("span",Object.assign({parentName:"span"},{className:"token number"}),"0"),Object(n.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),",")," to ",Object(n.b)("span",Object.assign({parentName:"span"},{className:"token operator"}),"=")," ",Object(n.b)("span",Object.assign({parentName:"span"},{className:"token number"}),"1"),Object(n.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),",")," duration ",Object(n.b)("span",Object.assign({parentName:"span"},{className:"token operator"}),"=")," ",Object(n.b)("span",Object.assign({parentName:"span"},{className:"token number"}),"300")," ",Object(n.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),"}")," ",Object(n.b)("span",Object.assign({parentName:"span"},{className:"token operator"}),"=")," ",Object(n.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),"{"),Object(n.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),"}")),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")")," ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"{"),"\n  ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"const")," startTime ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"=")," performance",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"."),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token function"}),"now"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";"),"\n\n  ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"function")," ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token function"}),"update"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")")," ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"{"),"\n    console",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"."),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token function"}),"log"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token string"}),'"update!"'),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";"),"\n    ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token function"}),"requestAnimationFrame"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),"update",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";"),"\n  ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"}"),"\n\n  ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token function"}),"requestAnimationFrame"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),"update",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";"),"\n",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"}")))),Object(n.b)("p",null,Object(n.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"rAF")," calls the function given to it with a single argument, the timestamp of the current frame. So we can use the difference between that and ",Object(n.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"startTime")," to calculate ",Object(n.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"elapsed"),":"),Object(n.b)("div",{className:"gatsby-highlight","data-language":"javascript"},Object(n.b)("pre",Object.assign({parentName:"div"},{className:"language-javascript"}),Object(n.b)("code",Object.assign({parentName:"pre"},{className:"language-javascript"}),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"const")," startTime ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"=")," performance",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"."),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token function"}),"now"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";"),"\n\n",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"function")," ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token function"}),"update"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token parameter"}),"currentTime"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")")," ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"{"),"\n  ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"const")," elapsed ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"=")," currentTime ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"-")," startTime",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";")))),Object(n.b)("h2",{id:"derive-progress",style:{position:"relative"}},Object(n.b)("a",Object.assign({parentName:"h2"},{href:"#derive-progress","aria-label":"derive progress permalink",className:"anchor before"}),Object(n.b)("svg",Object.assign({parentName:"a"},{"aria-hidden":"true",focusable:"false",height:"16",version:"1.1",viewBox:"0 0 16 16",width:"16"}),Object(n.b)("path",Object.assign({parentName:"svg"},{fillRule:"evenodd",d:"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"})))),"Derive progress"),Object(n.b)("p",null,"Now that we have an ",Object(n.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"elapsed")," value, we can figure out ",Object(n.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"progress"),". ",Object(n.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"progress")," is a value between ",Object(n.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"0")," and ",Object(n.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"1"),", and as mentioned earlier ",Object(n.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"0")," represents no progress and ",Object(n.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"1")," represents a completed animation."),Object(n.b)("p",null,"The calculation for this is ",Object(n.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"elapsed")," divided by ",Object(n.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"duration"),". Essentially a percentage calculation without multiplying by ",Object(n.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"100")," at the end:"),Object(n.b)("div",{className:"gatsby-highlight","data-language":"javascript"},Object(n.b)("pre",Object.assign({parentName:"div"},{className:"language-javascript"}),Object(n.b)("code",Object.assign({parentName:"pre"},{className:"language-javascript"}),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"const")," progress ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"=")," elapsed ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"/")," duration",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";")))),Object(n.b)("p",null,"To explain, think of an animation of ",Object(n.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"1000")," millisecond duration that has been running for ",Object(n.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"500")," milliseconds:"),Object(n.b)("div",{className:"gatsby-highlight","data-language":"javascript"},Object(n.b)("pre",Object.assign({parentName:"div"},{className:"language-javascript"}),Object(n.b)("code",Object.assign({parentName:"pre"},{className:"language-javascript"}),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"const")," progress ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"=")," ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token number"}),"500")," ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"/")," ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token number"}),"1000"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";")," ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token comment"}),"// 0.5")))),Object(n.b)("p",null,Object(n.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"0.5")," represents half way through the animation, which is correct."),Object(n.b)("p",null,"We want to clamp ",Object(n.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"progress")," to no greater than ",Object(n.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"1"),", so for this we can use ",Object(n.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"Math.min"),", which returns the smallest of the numbers provided to it:"),Object(n.b)("div",{className:"gatsby-highlight","data-language":"javascript"},Object(n.b)("pre",Object.assign({parentName:"div"},{className:"language-javascript"}),Object(n.b)("code",Object.assign({parentName:"pre"},{className:"language-javascript"}),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"const")," progress ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"=")," Math",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"."),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token function"}),"min"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),"elasped ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"/")," duration",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),",")," ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token number"}),"1"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";")))),Object(n.b)("p",null,"We also want to automatically stop the tween when ",Object(n.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"progress")," is ",Object(n.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"1"),", so let’s wrap our self-calling ",Object(n.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"rAF")," with a check that does just that:"),Object(n.b)("div",{className:"gatsby-highlight","data-language":"javascript"},Object(n.b)("pre",Object.assign({parentName:"div"},{className:"language-javascript"}),Object(n.b)("code",Object.assign({parentName:"pre"},{className:"language-javascript"}),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"function")," ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token function"}),"update"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token parameter"}),"currentTime"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")")," ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"{"),"\n  ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"const")," elapsed ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"=")," currentTime ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"-")," startTime",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";"),"\n  ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"const")," progress ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"=")," Math",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"."),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token function"}),"min"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),"elasped ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"/")," duration",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),",")," ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token number"}),"1"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";"),"\n\n  ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"if")," ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),"progress ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"<")," ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token number"}),"1"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")")," ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"{"),"\n    ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token function"}),"requestAnimationFrame"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),"update",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";"),"\n  ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"}"),"\n",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"}")))),Object(n.b)("h2",{id:"calculate-tweened-values",style:{position:"relative"}},Object(n.b)("a",Object.assign({parentName:"h2"},{href:"#calculate-tweened-values","aria-label":"calculate tweened values permalink",className:"anchor before"}),Object(n.b)("svg",Object.assign({parentName:"a"},{"aria-hidden":"true",focusable:"false",height:"16",version:"1.1",viewBox:"0 0 16 16",width:"16"}),Object(n.b)("path",Object.assign({parentName:"svg"},{fillRule:"evenodd",d:"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"})))),"Calculate tweened values"),Object(n.b)("p",null,"Now we’re ready to use ",Object(n.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"progress")," to calculate our tweened values!"),Object(n.b)("p",null,"First, we need to calculate the distance (or the ",Object(n.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"delta"),") between ",Object(n.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"to")," and ",Object(n.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"from"),". We can do this by subtracting ",Object(n.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"to")," from ",Object(n.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"from")," at the start of the ",Object(n.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"tween")," function:"),Object(n.b)("div",{className:"gatsby-highlight","data-language":"javascript"},Object(n.b)("pre",Object.assign({parentName:"div"},{className:"language-javascript"}),Object(n.b)("code",Object.assign({parentName:"pre"},{className:"language-javascript"}),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"const")," delta ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"=")," to ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"-")," ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"from"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";")))),Object(n.b)("p",null,"This gives us a ",Object(n.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"delta")," value which, when we add back to ",Object(n.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"from"),", will return ",Object(n.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"to"),". By multiplying ",Object(n.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"delta")," with the frame’s ",Object(n.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"progress")," before adding it to ",Object(n.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"from"),", we’ll get the correct value for that frame:"),Object(n.b)("div",{className:"gatsby-highlight","data-language":"javascript"},Object(n.b)("pre",Object.assign({parentName:"div"},{className:"language-javascript"}),Object(n.b)("code",Object.assign({parentName:"pre"},{className:"language-javascript"}),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"const")," latest ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"=")," ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"from")," ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"+")," progress ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"*")," delta",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";")))),Object(n.b)("p",null,"The way this works is, when we multiply ",Object(n.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"delta")," by ",Object(n.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"0")," (no progress), ",Object(n.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"latest")," will be the same as ",Object(n.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"from"),". When we multiply ",Object(n.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"delta")," by ",Object(n.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"1")," (completed tween) and add that to ",Object(n.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"from"),", we receive ",Object(n.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"to"),"."),Object(n.b)("p",null,"Now if you ",Object(n.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"console.log(latest)"),", you can see your tween works!"),Object(n.b)("p",null,"Here’s how your function should look:"),Object(n.b)("div",{className:"gatsby-highlight","data-language":"javascript"},Object(n.b)("pre",Object.assign({parentName:"div"},{className:"language-javascript"}),Object(n.b)("code",Object.assign({parentName:"pre"},{className:"language-javascript"}),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"function")," ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token function"}),"tween"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token parameter"}),Object(n.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),"{")," ",Object(n.b)("span",Object.assign({parentName:"span"},{className:"token keyword"}),"from")," ",Object(n.b)("span",Object.assign({parentName:"span"},{className:"token operator"}),"=")," ",Object(n.b)("span",Object.assign({parentName:"span"},{className:"token number"}),"0"),Object(n.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),",")," to ",Object(n.b)("span",Object.assign({parentName:"span"},{className:"token operator"}),"=")," ",Object(n.b)("span",Object.assign({parentName:"span"},{className:"token number"}),"1"),Object(n.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),",")," duration ",Object(n.b)("span",Object.assign({parentName:"span"},{className:"token operator"}),"=")," ",Object(n.b)("span",Object.assign({parentName:"span"},{className:"token number"}),"300")," ",Object(n.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),"}")," ",Object(n.b)("span",Object.assign({parentName:"span"},{className:"token operator"}),"=")," ",Object(n.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),"{"),Object(n.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),"}")),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")")," ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"{"),"\n  ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"const")," delta ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"=")," to ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"-")," ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"from"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";"),"\n  ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"const")," startTime ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"=")," performance",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"."),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token function"}),"now"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";"),"\n\n  ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"function")," ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token function"}),"update"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token parameter"}),"currentTime"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")")," ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"{"),"\n    ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"const")," elapsed ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"=")," currentTime ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"-")," startTime",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";"),"\n    ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"const")," progress ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"=")," Math",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"."),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token function"}),"min"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),"elapsed ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"/")," duration",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),",")," ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token number"}),"1"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";"),"\n    ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"const")," latest ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"=")," ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"from")," ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"+")," progress ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"*")," delta",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";"),"\n\n    ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"if")," ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),"progress ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"<")," ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token number"}),"1"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")")," ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"{"),"\n      ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token function"}),"requestAnimationFrame"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),"update",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";"),"\n    ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"}"),"\n  ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"}"),"\n\n  ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token function"}),"requestAnimationFrame"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),"update",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";"),"\n",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"}")))),Object(n.b)("h2",{id:"animate-the-ball",style:{position:"relative"}},Object(n.b)("a",Object.assign({parentName:"h2"},{href:"#animate-the-ball","aria-label":"animate the ball permalink",className:"anchor before"}),Object(n.b)("svg",Object.assign({parentName:"a"},{"aria-hidden":"true",focusable:"false",height:"16",version:"1.1",viewBox:"0 0 16 16",width:"16"}),Object(n.b)("path",Object.assign({parentName:"svg"},{fillRule:"evenodd",d:"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"})))),"Animate the ball"),Object(n.b)("p",null,"Of course, animations are no good if they don’t animate anything. So we need to provide a way for people to define a render target which, in this case, is going to be the ball ",Object(n.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"div")," on the CodePen."),Object(n.b)("p",null,"Add ",Object(n.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"onUpdate")," to the config:"),Object(n.b)("div",{className:"gatsby-highlight","data-language":"javascript"},Object(n.b)("pre",Object.assign({parentName:"div"},{className:"language-javascript"}),Object(n.b)("code",Object.assign({parentName:"pre"},{className:"language-javascript"}),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"function")," ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token function"}),"tween"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token parameter"}),Object(n.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),"{")," ",Object(n.b)("span",Object.assign({parentName:"span"},{className:"token keyword"}),"from")," ",Object(n.b)("span",Object.assign({parentName:"span"},{className:"token operator"}),"=")," ",Object(n.b)("span",Object.assign({parentName:"span"},{className:"token number"}),"0"),Object(n.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),",")," to ",Object(n.b)("span",Object.assign({parentName:"span"},{className:"token operator"}),"=")," ",Object(n.b)("span",Object.assign({parentName:"span"},{className:"token number"}),"1"),Object(n.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),",")," duration ",Object(n.b)("span",Object.assign({parentName:"span"},{className:"token operator"}),"=")," ",Object(n.b)("span",Object.assign({parentName:"span"},{className:"token number"}),"300"),Object(n.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),",")," onUpdate ",Object(n.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),"}")," ",Object(n.b)("span",Object.assign({parentName:"span"},{className:"token operator"}),"=")," ",Object(n.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),"{"),Object(n.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),"}")),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")")," ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"{")))),Object(n.b)("p",null,"This is going to be a function that a user can configure to fire once every frame."),Object(n.b)("p",null,"On the line after we calculate ",Object(n.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"latest"),", call ",Object(n.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"onUpdate")," with ",Object(n.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"latest"),":"),Object(n.b)("div",{className:"gatsby-highlight","data-language":"javascript"},Object(n.b)("pre",Object.assign({parentName:"div"},{className:"language-javascript"}),Object(n.b)("code",Object.assign({parentName:"pre"},{className:"language-javascript"}),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"if")," ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),"onUpdate",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")")," ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token function"}),"onUpdate"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),"latest",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";")))),Object(n.b)("p",null,"After your ",Object(n.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"tween")," function, cache a reference to the ",Object(n.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"#ball")," element."),Object(n.b)("div",{className:"gatsby-highlight","data-language":"javascript"},Object(n.b)("pre",Object.assign({parentName:"div"},{className:"language-javascript"}),Object(n.b)("code",Object.assign({parentName:"pre"},{className:"language-javascript"}),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"const")," ball ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"=")," document",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"."),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token function"}),"getElementById"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token string"}),'"ball"'),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";")))),Object(n.b)("p",null,"Now we can define an ",Object(n.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"onUpdate")," property in our call to ",Object(n.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"tween")," that uses its output to change ",Object(n.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"opacity"),":"),Object(n.b)("div",{className:"gatsby-highlight","data-language":"javascript"},Object(n.b)("pre",Object.assign({parentName:"div"},{className:"language-javascript"}),Object(n.b)("code",Object.assign({parentName:"pre"},{className:"language-javascript"}),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token function"}),"tween"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"{"),"\n  duration",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),":")," ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token number"}),"1000"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),","),"\n  ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token function-variable function"}),"onUpdate"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),":")," ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token parameter"}),"v")," ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"=>")," ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"{"),"\n    ball",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"."),"style",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"."),"opacity ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"=")," v",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";"),"\n  ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"}"),"\n",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"}"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";")))),Object(n.b)("p",null,"Success! You can animate any value this way. For instance ",Object(n.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"translateX"),":"),Object(n.b)("div",{className:"gatsby-highlight","data-language":"javascript"},Object(n.b)("pre",Object.assign({parentName:"div"},{className:"language-javascript"}),Object(n.b)("code",Object.assign({parentName:"pre"},{className:"language-javascript"}),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token function"}),"tween"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"{"),"\n  ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"from"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),":")," ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token number"}),"0"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),","),"\n  to",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),":")," ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token number"}),"300"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),","),"\n  ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token function-variable function"}),"onUpdate"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),":")," ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token parameter"}),"v")," ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"=>")," ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"{"),"\n    ball",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"."),"style",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"."),"transform ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"=")," ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token template-string"}),Object(n.b)("span",Object.assign({parentName:"span"},{className:"token template-punctuation string"}),"`"),Object(n.b)("span",Object.assign({parentName:"span"},{className:"token string"}),"translateX("),Object(n.b)("span",Object.assign({parentName:"span"},{className:"token interpolation"}),Object(n.b)("span",Object.assign({parentName:"span"},{className:"token interpolation-punctuation punctuation"}),"${"),"v",Object(n.b)("span",Object.assign({parentName:"span"},{className:"token interpolation-punctuation punctuation"}),"}")),Object(n.b)("span",Object.assign({parentName:"span"},{className:"token string"}),"px) translateZ(0)"),Object(n.b)("span",Object.assign({parentName:"span"},{className:"token template-punctuation string"}),"`")),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";"),"\n  ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"}"),"\n",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"}"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";")))),Object(n.b)("h2",{id:"easing",style:{position:"relative"}},Object(n.b)("a",Object.assign({parentName:"h2"},{href:"#easing","aria-label":"easing permalink",className:"anchor before"}),Object(n.b)("svg",Object.assign({parentName:"a"},{"aria-hidden":"true",focusable:"false",height:"16",version:"1.1",viewBox:"0 0 16 16",width:"16"}),Object(n.b)("path",Object.assign({parentName:"svg"},{fillRule:"evenodd",d:"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"})))),"Easing"),Object(n.b)("p",null,"When you animate ",Object(n.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"x")," you might notice something about the motion that feels a little stifled. That’s because we’re doing a ",Object(n.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"linear")," tween, which means ",Object(n.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"progress")," has a linear relationship to time."),Object(n.b)("p",null,Object(n.b)("span",Object.assign({parentName:"p"},{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"650px"}}),"\n      ",Object(n.b)("a",Object.assign({parentName:"span"},{className:"gatsby-resp-image-link",href:"/static/bce9abc1d93705a059553956a146941f/a451c/201902-easing-linear.png",style:{display:"block"},target:"_blank",rel:["noopener"]}),"\n    ",Object(n.b)("span",Object.assign({parentName:"a"},{className:"gatsby-resp-image-background-image",style:{paddingBottom:"63.190184049079754%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsSAAALEgHS3X78AAABMklEQVQ4y42SwVKDMBCGOflWfXVPPTi9eGKqM9JSkSJQJdZSgexmTVI2AgVqZj52+Tf7J4R4RHTXpfppXA6ALldKWUweQeX0WmGv39MPn9ENNn6kwtdmTmPMO7axVODLNueawRhejexN0Nw4aXakRmvGEBm9ko3xNkMpoadhGw/Y4FqWVz2M26EuWMyIgpRAAhdMl01zbOhJltTt6UbeYU88fh9ptXx0Gptl/zAbNRSioOX9yuZslmJNz/J802zUEBEoWEcE9giJ3mfMZg27k+MwJ2qQEmumP1P9GQwZO0N10S7D5PsgUzFUakO14voU3MMYQ2B0zcZNmMJDGINIBOT7ArL4E5LX3OaM0c6nqtdn8CZvr9Tn2aI025cdFYcve9v0D7dMXexFF73aYqjNMZz/C6Fp2vgzTVM+AAAAAElFTkSuQmCC')",backgroundSize:"cover",display:"block"}})),"\n  ",Object(n.b)("img",Object.assign({parentName:"a"},{className:"gatsby-resp-image-image",alt:"A graph representing linear easing",title:"A graph representing linear easing",src:"/static/bce9abc1d93705a059553956a146941f/70ccf/201902-easing-linear.png",srcSet:["/static/bce9abc1d93705a059553956a146941f/cf3f8/201902-easing-linear.png 163w","/static/bce9abc1d93705a059553956a146941f/bb21a/201902-easing-linear.png 325w","/static/bce9abc1d93705a059553956a146941f/70ccf/201902-easing-linear.png 650w","/static/bce9abc1d93705a059553956a146941f/b996f/201902-easing-linear.png 975w","/static/bce9abc1d93705a059553956a146941f/a451c/201902-easing-linear.png 1264w"],sizes:"(max-width: 650px) 100vw, 650px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"})),"\n  "),"\n    ")),Object(n.b)("p",null,"In other words, ",Object(n.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"progress")," changes at a constant rate as the animation progresses."),Object(n.b)("p",null,"In the real world, stuff doesn’t often move at a constant rate. It tends to accelerate and/or decelerate."),Object(n.b)("p",null,"We can replicate this kind of motion in a tween using ",Object(n.b)("strong",{parentName:"p"},"easing"),". Easing functions take a ",Object(n.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"progress")," value and return a new one. For instance, the ",Object(n.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"linear")," easing shown above looks like this:"),Object(n.b)("div",{className:"gatsby-highlight","data-language":"javascript"},Object(n.b)("pre",Object.assign({parentName:"div"},{className:"language-javascript"}),Object(n.b)("code",Object.assign({parentName:"pre"},{className:"language-javascript"}),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"function")," ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token function"}),"linear"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token parameter"}),"progress"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")")," ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"{"),"\n  ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"return")," progress",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";"),"\n",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"}")))),Object(n.b)("p",null,"The precise way an easing function affects ",Object(n.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"progress")," varies, but you can play with different easing curves at ",Object(n.b)("a",Object.assign({parentName:"p"},{href:"http://cubic-bezier.com/#.17,.67,.83,.67"}),"Lea Verou’s Cubic Bezier playground")," to get a feel for how different curves affects the feel of an animation."),Object(n.b)("p",null,"A full exploration of easing is a post of its own. But for now let’s make our ",Object(n.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"tween")," capable of accepting different easing functions."),Object(n.b)("p",null,"Add this ",Object(n.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"easeOut")," function to the top of your JavaScript:"),Object(n.b)("div",{className:"gatsby-highlight","data-language":"javascript"},Object(n.b)("pre",Object.assign({parentName:"div"},{className:"language-javascript"}),Object(n.b)("code",Object.assign({parentName:"pre"},{className:"language-javascript"}),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"function")," ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token function"}),"easeOut"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token parameter"}),"progress",Object(n.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),",")," power ",Object(n.b)("span",Object.assign({parentName:"span"},{className:"token operator"}),"=")," ",Object(n.b)("span",Object.assign({parentName:"span"},{className:"token number"}),"2")),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")")," ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"{"),"\n  ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"return")," ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token number"}),"1")," ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"-")," ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token number"}),"1")," ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"-")," progress",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")")," ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"**")," power",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";"),"\n",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"}")))),Object(n.b)("p",null,"This starts motion fast, and gradually slows over the course of the animation."),Object(n.b)("p",null,Object(n.b)("span",Object.assign({parentName:"p"},{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"650px"}}),"\n      ",Object(n.b)("a",Object.assign({parentName:"span"},{className:"gatsby-resp-image-link",href:"/static/3b3895ac8d0264925e0f21344cc38dd6/a451c/201902-easing-ease-out.png",style:{display:"block"},target:"_blank",rel:["noopener"]}),"\n    ",Object(n.b)("span",Object.assign({parentName:"a"},{className:"gatsby-resp-image-background-image",style:{paddingBottom:"63.190184049079754%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsSAAALEgHS3X78AAABQ0lEQVQ4y31SXVfCMAzd0/4Vf90nXvTFp6JHQUAZnA1wYwjDNR+m3YpdGcs5l4Sb9CZpFzFz7ONS1dcYAGNq4yNBrPQpDuuBqPM/kh/lQETW79NCiVjD0z9vcCJQO6xVAr8KWt7PG8Eby1ZFH80rUTdIJa6434wgOkgn65N5hqABqeVz1Cjr4kG8X++fcbhOKAkLO8ksZa3BxgVqnujTNWc8trU+50/YIctjyU/jZxvX0lwFYmHzvpU7xUWR8/jh0cZvIlbKhKHYkN0IAgIvX754r2v+wObqMZiMgpV7BX3RbLHjSXXkytw39QsN3SE1XGMmnkzXNNNncrkhuDMORhAcZDXr3xcpvC5TyDcFZOscsuQbNp9b2ErsYLjzz8XWU3vOILp7u/IW5j2oxXy65Hx3sF8b1g3uPcrIh3QbhdwQwvo/UE7azM2SP68AAAAASUVORK5CYII=')",backgroundSize:"cover",display:"block"}})),"\n  ",Object(n.b)("img",Object.assign({parentName:"a"},{className:"gatsby-resp-image-image",alt:"A graph representing ease out easing",title:"A graph representing ease out easing",src:"/static/3b3895ac8d0264925e0f21344cc38dd6/70ccf/201902-easing-ease-out.png",srcSet:["/static/3b3895ac8d0264925e0f21344cc38dd6/cf3f8/201902-easing-ease-out.png 163w","/static/3b3895ac8d0264925e0f21344cc38dd6/bb21a/201902-easing-ease-out.png 325w","/static/3b3895ac8d0264925e0f21344cc38dd6/70ccf/201902-easing-ease-out.png 650w","/static/3b3895ac8d0264925e0f21344cc38dd6/b996f/201902-easing-ease-out.png 975w","/static/3b3895ac8d0264925e0f21344cc38dd6/a451c/201902-easing-ease-out.png 1264w"],sizes:"(max-width: 650px) 100vw, 650px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"})),"\n  "),"\n    ")),Object(n.b)("p",null,"In your ",Object(n.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"tween")," function, make this the default ",Object(n.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"ease"),":"),Object(n.b)("div",{className:"gatsby-highlight","data-language":"javascript"},Object(n.b)("pre",Object.assign({parentName:"div"},{className:"language-javascript"}),Object(n.b)("code",Object.assign({parentName:"pre"},{className:"language-javascript"}),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"function")," ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token function"}),"tween"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token parameter"}),Object(n.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),"{"),"\n  ",Object(n.b)("span",Object.assign({parentName:"span"},{className:"token keyword"}),"from")," ",Object(n.b)("span",Object.assign({parentName:"span"},{className:"token operator"}),"=")," ",Object(n.b)("span",Object.assign({parentName:"span"},{className:"token number"}),"0"),Object(n.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),","),"\n  to ",Object(n.b)("span",Object.assign({parentName:"span"},{className:"token operator"}),"=")," ",Object(n.b)("span",Object.assign({parentName:"span"},{className:"token number"}),"1"),Object(n.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),","),"\n  duration ",Object(n.b)("span",Object.assign({parentName:"span"},{className:"token operator"}),"=")," ",Object(n.b)("span",Object.assign({parentName:"span"},{className:"token number"}),"300"),Object(n.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),","),"\n  ease ",Object(n.b)("span",Object.assign({parentName:"span"},{className:"token operator"}),"=")," easeOut",Object(n.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),","),"\n  onUpdate\n",Object(n.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),"}")," ",Object(n.b)("span",Object.assign({parentName:"span"},{className:"token operator"}),"=")," ",Object(n.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),"{"),Object(n.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),"}")),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")")," ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"{")))),Object(n.b)("p",null,"I prefer using this as a default over ",Object(n.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"linear")," because most UI animations should happen as a result of a user’s action. To make it feel like the user is imparting their own energy into the UI, I prefer to start those animations fast and let them slow down on their own."),Object(n.b)("p",null,"If an animation is happening ",Object(n.b)("strong",{parentName:"p"},"not")," as a direct result of a user’s input, an easing function that starts a little slower is better, to grab the user’s attention before they miss what’s changing."),Object(n.b)("p",null,"To use this ",Object(n.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"ease")," function in our animations we need to replace the ",Object(n.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"progress")," we use in our ",Object(n.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"latest")," calculation with the amended version returned from ",Object(n.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"ease"),"."),Object(n.b)("div",{className:"gatsby-highlight","data-language":"javascript"},Object(n.b)("pre",Object.assign({parentName:"div"},{className:"language-javascript"}),Object(n.b)("code",Object.assign({parentName:"pre"},{className:"language-javascript"}),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"const")," latest ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"=")," ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"from")," ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"+")," ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token function"}),"ease"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),"progress",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")")," ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"*")," delta",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";")))),Object(n.b)("p",null,"Now the animation feels more natural. Different easing functions work well with different properties, and work with different ",Object(n.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"duration"),"s."),Object(n.b)("iframe",{height:"400",style:{width:"100%",marginBottom:"40px"},scrolling:"no",title:"Write your own tween (completed)",src:"//codepen.io/popmotion/embed/preview/LaRxLR/?height=400&theme-id=17364&default-tab=js,result",frameBorder:"no",allowtransparency:"true",allowFullScreen:"true"}),Object(n.b)("h2",{id:"next-steps",style:{position:"relative"}},Object(n.b)("a",Object.assign({parentName:"h2"},{href:"#next-steps","aria-label":"next steps permalink",className:"anchor before"}),Object(n.b)("svg",Object.assign({parentName:"a"},{"aria-hidden":"true",focusable:"false",height:"16",version:"1.1",viewBox:"0 0 16 16",width:"16"}),Object(n.b)("path",Object.assign({parentName:"svg"},{fillRule:"evenodd",d:"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"})))),"Next steps"),Object(n.b)("p",null,"And there you have a basic ",Object(n.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"tween")," function!"),Object(n.b)("p",null,"There’s plenty we can do to improve its usability and functionality. Here’s a couple ideas for you to explore:"),Object(n.b)("ul",null,Object(n.b)("li",{parentName:"ul"},"Adding support for units, colors and other value types (hint: you can use a function like ",Object(n.b)("a",Object.assign({parentName:"li"},{href:"https://popmotion.io/popcorn/api/interpolate/"}),"Popcorn’s ",Object(n.b)("code",Object.assign({parentName:"a"},{className:"language-text"}),"interpolate")),")"),Object(n.b)("li",{parentName:"ul"},"Return an API with methods like ",Object(n.b)("code",Object.assign({parentName:"li"},{className:"language-text"}),"pause"),", ",Object(n.b)("code",Object.assign({parentName:"li"},{className:"language-text"}),"resume"),", ",Object(n.b)("code",Object.assign({parentName:"li"},{className:"language-text"}),"stop")," and ",Object(n.b)("code",Object.assign({parentName:"li"},{className:"language-text"}),"seek"),".")),Object(n.b)("p",null,"Let me know how you get on ",Object(n.b)("a",Object.assign({parentName:"p"},{href:"https://twitter.com/mattgperry"}),"over at Twitter"),"!"))}p.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-20190304-how-to-write-a-tween-mdx-f96e3d29efaedfff1869.js.map