(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"/+yk":function(e,a,t){"use strict";var n=t("q1tI"),s=t.n(n),c=t("Bl7J"),o=t("vrFN"),m=t("3WHN"),p=t("p6Wu"),i=(t("pJf4"),t("I/2l")),r=t.n(i),d=t("vOnD"),b=t("VBu3");function j(){var e=function(e,a){a||(a=e.slice(0));return e.raw=a,e}(["\n    width: 32px;\n    height: 32px;\n  "]);return j=function(){return e},e}var l={mattperry:{img:r.a,name:"Matt Perry"}},u=d.d.div.withConfig({displayName:"Author__Container",componentId:"sc-1jp4vsk-0"})(["display:flex !important;align-items:center;font-size:16px;margin-bottom:20px;"]),O=d.d.img.withConfig({displayName:"Author__Avatar",componentId:"sc-1jp4vsk-1"})(["width:40px;height:40px;border-radius:50%;margin-right:10px;",""],b.a.phone(j())),N=d.d.span.withConfig({displayName:"Author__Name",componentId:"sc-1jp4vsk-2"})(["font-weight:600;"]),g=d.d.span.withConfig({displayName:"Author__Seperator",componentId:"sc-1jp4vsk-3"})(["margin:0 10px;"]),x=function(e){var a=e.id,t=void 0===a?"mattperry":a,n=e.date;return l[t]?s.a.createElement(u,null,s.a.createElement(O,{src:l[t].img,alt:""}),s.a.createElement(N,null,l[t].name),s.a.createElement(g,null,"|"),n):null},k=t("A2+M");a.a=function(e){var a=e.data,t=e.pageContext;console.log(t);var n=Object(m.c)(a),i=n.body,r=n.title,d=n.author,b=n.date,j=n.excerpt;return s.a.createElement(c.a,null,s.a.createElement(o.a,{title:r,description:j,keywords:["matt perry","popmotion","react","pose","popmotion pose","framer","framer motion","ui animation"]}),s.a.createElement("article",null,s.a.createElement(p.b,null,r),s.a.createElement(p.a,null,s.a.createElement(x,{id:d,date:b})),s.a.createElement(p.a,null,s.a.createElement(k.MDXRenderer,null,i))))}},"3WHN":function(e,a,t){"use strict";t.d(a,"b",(function(){return n})),t.d(a,"a",(function(){return p})),t.d(a,"c",(function(){return i}));var n=function(e){return e.allMdx.edges},s=function(e){return e.fields.slug},c=function(e){return e.frontmatter.title},o=function(e){return e.frontmatter.date},m=function(e){return e.fields.description},p=function(e){return{id:s(e),title:c(e),date:o(e),excerpt:m(e)}},i=function(e){var a=e.mdx;return{id:s(a),title:c(a),date:o(a),author:a.frontmatter.author,body:a.body,excerpt:m(a)}}},"A2+M":function(e,a,t){var n=t("X8hv");e.exports={MDXRenderer:n}},X8hv:function(e,a,t){function n(e,a,t){return(n=s()?Reflect.construct:function(e,a,t){var n=[null];n.push.apply(n,a);var s=new(Function.bind.apply(e,n));return t&&c(s,t.prototype),s}).apply(null,arguments)}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function c(e,a){return(c=Object.setPrototypeOf||function(e,a){return e.__proto__=a,e})(e,a)}function o(e){return function(e){if(Array.isArray(e))return m(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,a){if(!e)return;if("string"==typeof e)return m(e,a);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return m(e,a)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,a){(null==a||a>e.length)&&(a=e.length);for(var t=0,n=new Array(a);t<a;t++)n[t]=e[t];return n}function p(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function i(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?p(Object(t),!0).forEach((function(a){r(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):p(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function r(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}t("xtjI"),t("Dq+y"),t("Ggvi"),t("rzGZ"),t("m210"),t("4DPX"),t("YbXK"),t("cFtU"),t("pJf4"),t("q8oJ"),t("8npG"),t("nWfQ"),t("nWfQ"),t("pJf4"),t("q8oJ"),t("YbXK"),t("cFtU"),t("m210"),t("xtjI"),t("4DPX"),t("rzGZ"),t("Dq+y"),t("8npG"),t("Ggvi");var d=t("q1tI"),b=t("7ljp"),j=b.useMDXComponents,l=b.mdx,u=t("BfwJ").useMDXScope;e.exports=function(e){var a=e.scope,t=e.components,s=e.children,c=function(e,a){if(null==e)return{};var t,n,s={},c=Object.keys(e);for(n=0;n<c.length;n++)t=c[n],a.indexOf(t)>=0||(s[t]=e[t]);return s}(e,["scope","components","children"]),m=j(t),p=u(a),r=d.useMemo((function(){if(!s)return null;var e=i({React:d,mdx:l},p),a=Object.keys(e),t=a.map((function(a){return e[a]}));return n(Function,["_fn"].concat(o(a),[""+s])).apply(void 0,[{}].concat(o(t)))}),[s,a]);return d.createElement(r,i({components:m},c))}},jjQe:function(e,a,t){"use strict";t.r(a),t.d(a,"_frontmatter",(function(){return c})),t.d(a,"default",(function(){return p}));t("rzGZ"),t("Dq+y"),t("8npG"),t("Ggvi"),t("E5k/"),t("q1tI");var n=t("7ljp"),s=t("/+yk");var c={},o={_frontmatter:c},m=s.a;function p(e){var a=e.components,t=function(e,a){if(null==e)return{};var t,n,s={},c=Object.keys(e);for(n=0;n<c.length;n++)t=c[n],a.indexOf(t)>=0||(s[t]=e[t]);return s}(e,["components"]);return Object(n.mdx)(m,Object.assign({},o,t,{components:a,mdxType:"MDXLayout"}),Object(n.mdx)("p",null,"React has a great new Hook that replaces ",Object(n.mdx)("code",Object.assign({parentName:"p"},{className:"language-text"}),"componentDidMount"),", ",Object(n.mdx)("code",Object.assign({parentName:"p"},{className:"language-text"}),"componentDidUpdate")," and ",Object(n.mdx)("code",Object.assign({parentName:"p"},{className:"language-text"}),"componentWillUnmount")," with one simple, functionally-encapsulated API."),Object(n.mdx)("p",null,"It’s called ",Object(n.mdx)("a",Object.assign({parentName:"p"},{href:"https://reactjs.org/docs/hooks-effect.html"}),Object(n.mdx)("code",Object.assign({parentName:"a"},{className:"language-text"}),"useEffect")),", and it looks like this:"),Object(n.mdx)("div",{className:"gatsby-highlight","data-language":"jsx"},Object(n.mdx)("pre",Object.assign({parentName:"div"},{className:"language-jsx"}),Object(n.mdx)("code",Object.assign({parentName:"pre"},{className:"language-jsx"}),Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"const")," ",Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token function-variable function"}),"Component")," ",Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token operator"}),"=")," ",Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")")," ",Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token operator"}),"=>")," ",Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"{"),"\n  ",Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token function"}),"useEffect"),Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")")," ",Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token operator"}),"=>")," ",Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"{"),"\n    console",Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"."),Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token function"}),"log"),Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token string"}),'"Rendered!"'),Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")"),Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";"),"\n  ",Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"}"),Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")"),Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";"),"\n\n  ",Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"return")," ",Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token tag"}),Object(n.mdx)("span",Object.assign({parentName:"span"},{className:"token tag"}),Object(n.mdx)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),"<"),"div")," ",Object(n.mdx)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),"/>")),Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";"),"\n",Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"}"),Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";")))),Object(n.mdx)("p",null,"Its default behaviour is to run after every render, but we can change this behaviour by passing an array of variables as ",Object(n.mdx)("code",Object.assign({parentName:"p"},{className:"language-text"}),"useEffect"),"’s final argument. Whenever ",Object(n.mdx)("strong",{parentName:"p"},"one or more of these variables change"),", ",Object(n.mdx)("code",Object.assign({parentName:"p"},{className:"language-text"}),"useEffect")," will fire after the next render:"),Object(n.mdx)("div",{className:"gatsby-highlight","data-language":"jsx"},Object(n.mdx)("pre",Object.assign({parentName:"div"},{className:"language-jsx"}),Object(n.mdx)("code",Object.assign({parentName:"pre"},{className:"language-jsx"}),Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token function"}),"useEffect"),Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")")," ",Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token operator"}),"=>")," ",Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"{"),"\n  console",Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"."),Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token function"}),"log"),Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token template-string"}),Object(n.mdx)("span",Object.assign({parentName:"span"},{className:"token template-punctuation string"}),"`"),Object(n.mdx)("span",Object.assign({parentName:"span"},{className:"token string"}),"The latest count is "),Object(n.mdx)("span",Object.assign({parentName:"span"},{className:"token interpolation"}),Object(n.mdx)("span",Object.assign({parentName:"span"},{className:"token interpolation-punctuation punctuation"}),"${"),"count",Object(n.mdx)("span",Object.assign({parentName:"span"},{className:"token interpolation-punctuation punctuation"}),"}")),Object(n.mdx)("span",Object.assign({parentName:"span"},{className:"token template-punctuation string"}),"`")),Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")"),Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";"),"\n",Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"}"),Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),",")," ",Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"["),"count",Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"]"),Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")"),Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";")))),Object(n.mdx)("p",null,"So consider this API from Popmotion’s ",Object(n.mdx)("a",Object.assign({parentName:"p"},{href:"https://popmotion.io/pose/"}),"Pose"),":"),Object(n.mdx)("div",{className:"gatsby-highlight","data-language":"jsx"},Object(n.mdx)("pre",Object.assign({parentName:"div"},{className:"language-jsx"}),Object(n.mdx)("code",Object.assign({parentName:"pre"},{className:"language-jsx"}),Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token tag"}),Object(n.mdx)("span",Object.assign({parentName:"span"},{className:"token tag"}),Object(n.mdx)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),"<"),Object(n.mdx)("span",Object.assign({parentName:"span"},{className:"token class-name"}),"Sidebar"))," ",Object(n.mdx)("span",Object.assign({parentName:"span"},{className:"token attr-name"}),"pose"),Object(n.mdx)("span",Object.assign({parentName:"span"},{className:"token script language-javascript"}),Object(n.mdx)("span",Object.assign({parentName:"span"},{className:"token script-punctuation punctuation"}),"="),Object(n.mdx)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),"{"),Object(n.mdx)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),"["),Object(n.mdx)("span",Object.assign({parentName:"span"},{className:"token string"}),"'visible'"),Object(n.mdx)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),",")," ",Object(n.mdx)("span",Object.assign({parentName:"span"},{className:"token string"}),"'active'"),Object(n.mdx)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),"]"),Object(n.mdx)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),"}")),Object(n.mdx)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),">"))))),Object(n.mdx)("p",null,"Here, we’ve got a ",Object(n.mdx)("code",Object.assign({parentName:"p"},{className:"language-text"}),"pose")," property that accepts an array of one or more “poses” to control its animations."),Object(n.mdx)("p",null,"Previously, we’d have used a check in ",Object(n.mdx)("code",Object.assign({parentName:"p"},{className:"language-text"}),"componentDidUpdate")," to manually iterate over the previous and the next arrays to see if they’re different to each other:"),Object(n.mdx)("div",{className:"gatsby-highlight","data-language":"javascript"},Object(n.mdx)("pre",Object.assign({parentName:"div"},{className:"language-javascript"}),Object(n.mdx)("code",Object.assign({parentName:"pre"},{className:"language-javascript"}),Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token function"}),"componentDidUpdate"),Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token parameter"}),"prevProps"),Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")")," ",Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"{"),"\n  ",Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"const")," hasChanged ",Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token operator"}),"=")," ",Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token operator"}),"!"),Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token function"}),"isArrayEqual"),Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),"prevProps",Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"."),"pose",Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),",")," ",Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"this"),Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"."),"props",Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"."),"pose",Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")"),"\n  ",Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"if")," ",Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),"hasChanged",Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")")," ",Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"{"),"\n    ",Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token function"}),"animate"),Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"this"),Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"."),"props",Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"."),"pose",Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")"),"\n  ",Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"}"),"\n",Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"}")))),Object(n.mdx)("p",null,"But now, with ",Object(n.mdx)("code",Object.assign({parentName:"p"},{className:"language-text"}),"useEffect"),"’s final argument, it’s a simple matter of passing the ",Object(n.mdx)("code",Object.assign({parentName:"p"},{className:"language-text"}),"pose")," array to ",Object(n.mdx)("code",Object.assign({parentName:"p"},{className:"language-text"}),"useEffect"),", and we’ll get this comparison for free!"),Object(n.mdx)("div",{className:"gatsby-highlight","data-language":"jsx"},Object(n.mdx)("pre",Object.assign({parentName:"div"},{className:"language-jsx"}),Object(n.mdx)("code",Object.assign({parentName:"pre"},{className:"language-jsx"}),Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token function"}),"useEffect"),Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")")," ",Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token operator"}),"=>")," ",Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"{"),"\n  ",Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token function"}),"animate"),Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),"pose",Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")"),Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";"),"\n",Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"}"),Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),",")," pose",Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")"),Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";")))),Object(n.mdx)("p",null,"Hell yeah! Except hell no. If the length of ",Object(n.mdx)("code",Object.assign({parentName:"p"},{className:"language-text"}),"pose")," changes, React will throw you this error:"),Object(n.mdx)("blockquote",null,Object(n.mdx)("p",{parentName:"blockquote"},"The final argument passed to useEffect changed size between renders. The order and size of this array must remain constant.")),Object(n.mdx)("p",null,"The problem is that we can’t always know if an externally-created array is going to change in length."),Object(n.mdx)("p",null,"If can’t know it, we shouldn’t assume it."),Object(n.mdx)("p",null,"Especially as the insidious truth is, the array may only ",Object(n.mdx)("strong",{parentName:"p"},"rarely")," change in length, which means this error might not throw until its out in the wild."),Object(n.mdx)("h2",{id:"the-fix",style:{position:"relative"}},Object(n.mdx)("a",Object.assign({parentName:"h2"},{href:"#the-fix","aria-label":"the fix permalink",className:"anchor before"}),Object(n.mdx)("svg",Object.assign({parentName:"a"},{"aria-hidden":"true",focusable:"false",height:"16",version:"1.1",viewBox:"0 0 16 16",width:"16"}),Object(n.mdx)("path",Object.assign({parentName:"svg"},{fillRule:"evenodd",d:"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"})))),"The fix"),Object(n.mdx)("p",null,"If our array is just numbers or strings, this is an easy fix. You can use the ",Object(n.mdx)("a",Object.assign({parentName:"p"},{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/join"}),Object(n.mdx)("code",Object.assign({parentName:"a"},{className:"language-text"}),"Array.join()")," method"),":"),Object(n.mdx)("div",{className:"gatsby-highlight","data-language":"jsx"},Object(n.mdx)("pre",Object.assign({parentName:"div"},{className:"language-jsx"}),Object(n.mdx)("code",Object.assign({parentName:"pre"},{className:"language-jsx"}),Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token function"}),"useEffect"),Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")")," ",Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token operator"}),"=>")," ",Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"{"),"\n  ",Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token function"}),"animate"),Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),"pose",Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")"),Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";"),"\n",Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"}"),Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),",")," ",Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"["),"pose",Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"."),Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token function"}),"join"),Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token string"}),'","'),Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")"),Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"]"),Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")"),Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";")))),Object(n.mdx)("p",null,"So instead of passing an array like this:"),Object(n.mdx)("div",{className:"gatsby-highlight","data-language":"javascript"},Object(n.mdx)("pre",Object.assign({parentName:"div"},{className:"language-javascript"}),Object(n.mdx)("code",Object.assign({parentName:"pre"},{className:"language-javascript"}),Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"["),Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token string"}),'"visible"'),Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),",")," ",Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token string"}),'"hidden"'),Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"]"),Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";")))),Object(n.mdx)("p",null,"You’re now passing an array like this:"),Object(n.mdx)("div",{className:"gatsby-highlight","data-language":"javascript"},Object(n.mdx)("pre",Object.assign({parentName:"div"},{className:"language-javascript"}),Object(n.mdx)("code",Object.assign({parentName:"pre"},{className:"language-javascript"}),Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"["),Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token string"}),'"visible,hidden"'),Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"]"),Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";")))),Object(n.mdx)("p",null,"Your array prop will now always take up just one item in the ",Object(n.mdx)("code",Object.assign({parentName:"p"},{className:"language-text"}),"useEffect")," comparitor array."),Object(n.mdx)("h2",{id:"whats-with-the-comma",style:{position:"relative"}},Object(n.mdx)("a",Object.assign({parentName:"h2"},{href:"#whats-with-the-comma","aria-label":"whats with the comma permalink",className:"anchor before"}),Object(n.mdx)("svg",Object.assign({parentName:"a"},{"aria-hidden":"true",focusable:"false",height:"16",version:"1.1",viewBox:"0 0 16 16",width:"16"}),Object(n.mdx)("path",Object.assign({parentName:"svg"},{fillRule:"evenodd",d:"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"})))),"What’s with the comma?"),Object(n.mdx)("p",null,"Oh yeah. So the comma might seem superfluous. After all, it’s unlikely that different pose names are going to return the same string when you ",Object(n.mdx)("code",Object.assign({parentName:"p"},{className:"language-text"}),"join")," them."),Object(n.mdx)("p",null,"But crucially, it isn’t impossible. And if the array contains numbers instead of strings, this scenario becomes far more likely:"),Object(n.mdx)("div",{className:"gatsby-highlight","data-language":"javascript"},Object(n.mdx)("pre",Object.assign({parentName:"div"},{className:"language-javascript"}),Object(n.mdx)("code",Object.assign({parentName:"pre"},{className:"language-javascript"}),Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"["),Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token number"}),"0"),Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),",")," ",Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token number"}),"1"),Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),",")," ",Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token number"}),"2"),Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"]")," ",Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token operator"}),"-"),Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token operator"}),">")," ",Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"["),Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token string"}),"'012'"),Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"]"),"\n",Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"["),Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token number"}),"0"),Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),",")," ",Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token number"}),"12"),Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"]")," ",Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token operator"}),"-"),Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token operator"}),">")," ",Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"["),Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token string"}),"'012'"),Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"]")))),Object(n.mdx)("p",null,"By providing ",Object(n.mdx)("code",Object.assign({parentName:"p"},{className:"language-text"}),"join")," with a separator (it could be any character), you’re ensuring the returned string remains unique for all combinations."),Object(n.mdx)("div",{className:"gatsby-highlight","data-language":"javascript"},Object(n.mdx)("pre",Object.assign({parentName:"div"},{className:"language-javascript"}),Object(n.mdx)("code",Object.assign({parentName:"pre"},{className:"language-javascript"}),Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"["),Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token number"}),"0"),Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),",")," ",Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token number"}),"1"),Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),",")," ",Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token number"}),"2"),Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"]")," ",Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token operator"}),"-"),Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token operator"}),">")," ",Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"["),Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token string"}),"'0,1,2'"),Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"]"),"\n",Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"["),Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token number"}),"0"),Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),",")," ",Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token number"}),"12"),Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"]")," ",Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token operator"}),"-"),Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token operator"}),">")," ",Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"["),Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token string"}),"'0,12'"),Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"]")))),Object(n.mdx)("h2",{id:"bloopers",style:{position:"relative"}},Object(n.mdx)("a",Object.assign({parentName:"h2"},{href:"#bloopers","aria-label":"bloopers permalink",className:"anchor before"}),Object(n.mdx)("svg",Object.assign({parentName:"a"},{"aria-hidden":"true",focusable:"false",height:"16",version:"1.1",viewBox:"0 0 16 16",width:"16"}),Object(n.mdx)("path",Object.assign({parentName:"svg"},{fillRule:"evenodd",d:"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"})))),"Bloopers"),Object(n.mdx)("p",null,"Whenever I post a blog like this with a solution I want to show you any “developer moments” aka “what the fuck was I thinking” moments that I enjoyed along the way."),Object(n.mdx)("p",null,"In this case my initial attempt at fixing the bug was to pad the incoming array by an arbitrary amount. I felt like 10 would be more than enough poses for any one component:"),Object(n.mdx)("div",{className:"gatsby-highlight","data-language":"javascript"},Object(n.mdx)("pre",Object.assign({parentName:"div"},{className:"language-javascript"}),Object(n.mdx)("code",Object.assign({parentName:"pre"},{className:"language-javascript"}),Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token function"}),"useEffect"),Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")")," ",Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token operator"}),"=>")," ",Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"{"),"\n  ",Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token function"}),"animate"),Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),"pose",Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")"),Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";"),"\n",Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"}"),Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),",")," ",Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token function"}),"pad"),Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),"pose",Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),",")," ",Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token number"}),"10"),Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")"),Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")"),Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";")))),Object(n.mdx)("p",null,"So our ",Object(n.mdx)("code",Object.assign({parentName:"p"},{className:"language-text"}),"pose")," array from before would become:"),Object(n.mdx)("div",{className:"gatsby-highlight","data-language":"javascript"},Object(n.mdx)("pre",Object.assign({parentName:"div"},{className:"language-javascript"}),Object(n.mdx)("code",Object.assign({parentName:"pre"},{className:"language-javascript"}),Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"["),Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token string"}),'"visible"'),Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),",")," ",Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token string"}),'"hidden"'),Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),",")," ",Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"null"),Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),",")," ",Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"null"),Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),",")," ",Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"null"),Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),",")," ",Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"null"),Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),",")," ",Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"null"),Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),",")," ",Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"null"),Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),",")," ",Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"null"),Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),",")," ",Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"null"),Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"]"),Object(n.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";")))),Object(n.mdx)("p",null,"And the comparitor array given to React would remain the same length, no matter how ",Object(n.mdx)("code",Object.assign({parentName:"p"},{className:"language-text"}),"pose")," grew or shrank."),Object(n.mdx)("p",null,"It worked, but despite ",Object(n.mdx)("code",Object.assign({parentName:"p"},{className:"language-text"}),"10")," being quite a generous pose amount, it’s hardly bullet-proof. It also creates a new array which is more memory-intensive than a string. It’s not a big deal but when we’re dealing with animations its better to keep garbage collection down where you can."))}p.isMDXComponent=!0},nWfQ:function(e,a,t){var n=t("P8UN"),s=t("nsRs"),c=t("nONw"),o=t("1a8y"),m=t("BjK0"),p=t("96qb"),i=t("16Xr"),r=(t("emib").Reflect||{}).construct,d=p((function(){function e(){}return!(r((function(){}),[],e)instanceof e)})),b=!p((function(){r((function(){}))}));n(n.S+n.F*(d||b),"Reflect",{construct:function(e,a){c(e),o(a);var t=arguments.length<3?e:c(arguments[2]);if(b&&!d)return r(e,a,t);if(e==t){switch(a.length){case 0:return new e;case 1:return new e(a[0]);case 2:return new e(a[0],a[1]);case 3:return new e(a[0],a[1],a[2]);case 4:return new e(a[0],a[1],a[2],a[3])}var n=[null];return n.push.apply(n,a),new(i.apply(e,n))}var p=t.prototype,j=s(m(p)?p:Object.prototype),l=Function.apply.call(e,j,a);return m(l)?l:j}})}}]);
//# sourceMappingURL=component---src-pages-20190207-how-to-fix-final-argument-passed-to-useeffect-changed-size-between-renders-mdx-8635eec7fc5f1d1b1f20.js.map